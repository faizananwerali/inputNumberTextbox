define(["../core","../core/stripAndCollapse","../var/isFunction","../core/parseHTML","../ajax","../traversing","../manipulation","../selector"],function(b,a,c){b.fn.load=function(g,j,k){var d,h,f,e=this,i=g.indexOf(" ");if(i>-1){d=a(g.slice(i));g=g.slice(0,i)}if(c(j)){k=j;j=undefined}else{if(j&&typeof j==="object"){h="POST"}}if(e.length>0){b.ajax({url:g,type:h||"GET",dataType:"html",data:j}).done(function(l){f=arguments;e.html(d?b("<div>").append(b.parseHTML(l)).find(d):l)}).always(k&&function(m,l){e.each(function(){k.apply(this,f||[m.responseText,l,m])})})}return this}});