define(["../core","../var/rcssNum"],function(c,b){function a(e,d,h,m){var n,f,j=20,l=m?function(){return m.cur()}:function(){return c.css(e,d,"")},i=l(),k=h&&h[3]||(c.cssNumber[d]?"":"px"),g=(c.cssNumber[d]||k!=="px"&&+i)&&b.exec(c.css(e,d));if(g&&g[3]!==k){i=i/2;k=k||g[3];g=+i||1;while(j--){c.style(e,d,g+k);if((1-f)*(1-(f=l()/i||0.5))<=0){j=0}g=g/f}g=g*2;c.style(e,d,g+k);h=h||[]}if(h){g=+g||+i||0;n=h[1]?g+(h[1]+1)*h[2]:+h[2];if(m){m.unit=k;m.start=g;m.end=n}}return n}return a});